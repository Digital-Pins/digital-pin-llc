# ุฏููู ุงููุฒุงููุฉ ุงููุญุณู ุจูู GitLab + GitHub

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ (ููุตู ุจูุง)
```bash
cd /path/to/digital-pin-llc
./scripts/dev-hub/gitlab-github-sync-v2.sh
```

### ุงููุฒุงููุฉ ุงููุฏููุฉ
```bash
# ุฏูุน ูู GitHub
git push origin main

# ุฏูุน ูู GitLab (ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก)
git push gitlab main || ./scripts/dev-hub/gitlab-github-sync-v2.sh
```

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ
- **ุดูู ุญู**: ูุชุนุงูู ูุน ูููุฏ "shallow update" ุนูู GitLab
- **ุญู ุจุฏูู**: ุฅูุดุงุก ูุฑูุน ุฌุฏูุฏุฉ ุนูุฏ ูุดู ุงูุฏูุน
- **ุงุณุชูุฑุงุฑูุฉ**: ูุง ูุชููู ุนูุฏ ูุดู ููุตุฉ ูุงุญุฏุฉ

### โ ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช ุงููุฑุนูุฉ
- **ุชููุงุฆู**: ูุญุฏุซ digital-pins.github.io ู dolibarr-custom
- **ุฐูู**: ูุชุฌุงูู ุงูุฃุฎุทุงุก ููุณุชูุฑ
- **ูุฑู**: ูููู ุฅุถุงูุฉ ูุณุชูุฏุนุงุช ุฌุฏูุฏุฉ

### โ ุชูุงุฑูุฑ ููุตูุฉ
- **ุชุชุจุน**: ูุณุฌู ุฌููุน ุงูุนูููุงุช
- **ุชุดุฎูุต**: ูุธูุฑ ุงูุงุฎุชูุงูุงุช ุจูู ุงูููุตุชูู
- **ุฅุญุตุงุฆูุงุช**: ูุนุฑุถ ุนุฏุฏ ุงููููุงุช ุงููููููุฉ

## ๐ง ุงูุชุฎุตูุต

### ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช
```bash
# ุชุญุฑูุฑ ููู ุงูุฅุนุฏุงุฏุงุช
nano scripts/dev-hub/sync-config.sh

# ุชุบููุฑ ุงูููุตุฉ ุงูุฑุฆูุณูุฉ
PRIMARY_PLATFORM="gitlab"  # ุจุฏูุงู ูู "github"
```

### ุฅุถุงูุฉ ูุณุชูุฏุนุงุช ุฌุฏูุฏุฉ
```bash
# ูู ููู sync-config.sh
SUBMODULES_TO_SYNC=(
    "digital-pins.github.io"
    "dolibarr-custom"
    "new-submodule"  # ุฃุถู ููุง
)
```

## ๐ ูุฑุงูุจุฉ ุงููุฒุงููุฉ

### ูุญุต ุงูุญุงูุฉ
```bash
# ุงูุงุฎุชูุงูุงุช ูุน GitHub
git log --oneline origin/main..HEAD
git log --oneline HEAD..origin/main

# ุงูุงุฎุชูุงูุงุช ูุน GitLab
git log --oneline gitlab/main..HEAD
git log --oneline HEAD..gitlab/main
```

### ุณุฌูุงุช ุงููุฒุงููุฉ
```bash
# ุนุฑุถ ุณุฌู ุงููุฒุงููุฉ ุงูุฃุฎูุฑ
cat logs/sync-$(date +%Y%m%d).log

# ุนุฑุถ ุฌููุน ุงูุณุฌูุงุช
ls -la logs/sync-*.log
```

## โ๏ธ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: "shallow update not allowed"
**ุงูุญู**: ุงูุณูุฑูุจุช ูุชุนุงูู ูุน ูุฐุง ุชููุงุฆูุงู ุจุฅูุดุงุก ูุฑุน ุฌุฏูุฏ

### ูุดููุฉ: "Protected branch"
**ุงูุญู**: ุงูุณูุฑูุจุช ููุดุฆ ูุฑูุน ุฌุฏูุฏุฉ ุจุฏูุงู ูู ุงูุฏูุน ุงููุจุงุดุฑ

### ูุดููุฉ: ุชุถุงุฑุจ ูู ุงูุฏูุฌ
```bash
# ุญู ูุฏูู
git checkout --ours conflicted-file.txt
git add conflicted-file.txt
git commit -m "ุญู ุชุถุงุฑุจ ุงูุฏูุฌ"
```

## ๐ ุงูุฌุฏููุฉ ุงูุชููุงุฆูุฉ

### ุฅุนุฏุงุฏ Cron Job
```bash
# ุชุญุฑูุฑ crontab
crontab -e

# ุฅุถุงูุฉ ูููุฉ ููููุฉ ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
0 2 * * * cd /path/to/digital-pin-llc && ./scripts/dev-hub/gitlab-github-sync-v2.sh >> logs/cron-$(date +\%Y\%m\%d).log 2>&1
```

### ุฅุนุฏุงุฏ systemd Timer
```bash
# ูุณุฎ ูููุงุช ุงูุฎุฏูุฉ
sudo cp scripts/dev-hub/systemd/gitlab-github-sync.* /etc/systemd/system/

# ุชูุนูู ุงูุฎุฏูุฉ
sudo systemctl daemon-reload
sudo systemctl enable gitlab-github-sync.timer
sudo systemctl start gitlab-github-sync.timer
```

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุชุญุฏูุฏ ููุตุฉ ุฑุฆูุณูุฉ
```bash
# ุงุฌุนู GitHub ุงูููุตุฉ ุงูุฑุฆูุณูุฉ
PRIMARY_PLATFORM="github"

# ุงุณุชุฎุฏู GitLab ูููุณุฎ ุงูุงุญุชูุงุทู ููุท
BACKUP_PLATFORM="gitlab"
```

### 2. ุงููุฒุงููุฉ ุงูููุชุธูุฉ
- ุดุบู ุงููุฒุงููุฉ ููููุงู
- ุฑุงุฌุน ุงูุณุฌูุงุช ุฃุณุจูุนูุงู
- ูุธู ุงููุฑูุน ุงููุฏููุฉ ุดูุฑูุงู

### 3. ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
```bash
# ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ
BACKUP_BEFORE_SYNC=true
BACKUP_RETENTION_DAYS=30
```

## ๐ฏ ุณููุงุฑูููุงุช ูุชูุฏูุฉ

### ูุฒุงููุฉ ุงูุชูุงุฆูุฉ
```bash
# ูุฒุงููุฉ GitHub ููุท
git push origin main

# ูุฒุงููุฉ GitLab ููุท
./scripts/dev-hub/gitlab-github-sync-v2.sh --gitlab-only

# ูุฒุงููุฉ ุงููุณุชูุฏุนุงุช ุงููุฑุนูุฉ ููุท
./scripts/dev-hub/gitlab-github-sync-v2.sh --submodules-only
```

### ุงุณุชุฑุฏุงุฏ ูู ูุงุฑุซุฉ
```bash
# ูู GitHub
git reset --hard origin/main

# ูู GitLab
git reset --hard gitlab/main

# ูุฒุงููุฉ ูู ุฌุฏูุฏ
./scripts/dev-hub/gitlab-github-sync-v2.sh
```

## ๐ ุงูุฏุนู ูุงูุตูุงูุฉ

### ูุญุต ุตุญุฉ ุงููุฒุงููุฉ
```bash
# ุชุดุบูู ูุญุต ุชุดุฎูุตู
./scripts/dev-hub/gitlab-github-sync-v2.sh --diagnose

# ูุญุต ุฅุนุฏุงุฏุงุช Git
git remote -v
git config --list | grep -E "remote\.|branch\."
```

### ุชุญุฏูุซ ุงูุณูุฑูุจุช
```bash
# ุชุญุฏูุซ ูู ุงููุณุชูุฏุน
git pull origin main
chmod +x scripts/dev-hub/gitlab-github-sync-v2.sh
```

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ูุน ูุฐุง ุงููุธุงู ุงููุญุณูุ ุณุชุญุตู ุนูู:
- โ ูุฒุงููุฉ ุชููุงุฆูุฉ ูููุซููุฉ
- โ ูุนุงูุฌุฉ ุฐููุฉ ููุฃุฎุทุงุก
- โ ุชูุงุฑูุฑ ููุตูุฉ ุนู ุงูุนูููุงุช
- โ ุฅููุงููุฉ ุงูุชุฎุตูุต ุญุณุจ ุงูุญุงุฌุฉ
- โ ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**
